#### ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ

åŒ…ï¼Ÿä½œä¸ºå¥³å­©å­ï¼Œæˆ‘å¯å¤ªå–œæ¬¢åŒ…äº†ï¼Œæ»¡æ»¡çš„è´­ä¹°æ¬²ï¼ˆå¥ˆä½•å›Šä¸­ç¾žæ¶©ï¼‰ã€‚ä½ é—®æˆ‘ä»€ä¹ˆå«é—­åŒ…ï¼Ÿæ‰“å¼€æ·˜å®æœç´¢ä¸€ä¸‹ï¼Œçœ‹çœ‹è¿™ä¸ªæ‰€è°“çš„â€œé—­åŒ…â€æ˜¯ä¸ªä»€ä¹ˆæ ·å­ï¼ˆæœç´¢ç»“æžœï¼šæ‚¨æœç´¢çš„åŒ…åŒ…æ¶‰å«Œè¿è§„ï¼Œè¯·æ³¨æ„æ‚¨çš„è¡Œä¸ºï¼‰ï¼Œå“¼ï¼Œå°±çŸ¥é“ä¸æ˜¯ä»€ä¹ˆå¥½åŒ…ã€‚å¯æ˜¯ä¸ºä»€ä¹ˆè¿˜ä¼šæœ‰äººç‰¹æ„ç”¨å®ƒæ¥æ’‘åœºé¢å‘¢ï¼Ÿï¼

æ¦‚å¿µï¼šå½“é€šè¿‡ä¸€ä¸ªå¤–éƒ¨éƒ¨å‡½æ•°è°ƒç”¨å†…éƒ¨å‡½æ•°çš„æ—¶å€™ï¼Œå¤–éƒ¨å‡½æ•°æ‰§è¡Œç»“æŸä¹‹åŽï¼Œå†…éƒ¨å‡½æ•°å¼•ç”¨å¤–éƒ¨å‡½æ•°çš„å˜é‡ä»ç„¶ä¿ç•™åœ¨å†…å­˜å½“ä¸­ï¼ŒæŠŠè¿™äº›å˜é‡çš„é›†åˆå«åšé—­åŒ…ã€‚

**ç®€å•çš„æ¥è¯´ï¼šå‡½æ•°Aé‡Œé¢æœ‰ä¸ªå‡½æ•°Bï¼Œå‡½æ•°Bå¼•ç”¨äº†å‡½æ•°Açš„å˜é‡ï¼Œé‚£ä¹ˆå‡½æ•°Bå°±å¯ä»¥å«åšå‡½æ•°Açš„é—­åŒ…ã€‚**

**é—­åŒ…çš„æž„æˆï¼šå‡½æ•°ï¼Œä»¥åŠåˆ›å»ºè¯¥å‡½æ•°çš„çŽ¯å¢ƒ**

**é—­åŒ…çš„æœ¬è´¨ï¼šé—­åŒ…æ˜¯JavaScriptä½œç”¨åŸŸçš„å‰¯äº§å“**

![](../images/lizi_b.jpg)



```
const Father = () => {
  let count = 0;
  return () => {
    count++;
    console.log(count)
  }
}

const f1 = Father();
const f2 = Father();

f1(); // 1 å¼•ç”¨countï¼ŒåŠ 1
f1(); // 2 ç¬¬ä¸€æ¬¡æ‰§è¡Œçš„ç»“æžœåŸºç¡€ä¸Šå†åŠ  1
f2(); // 1 é‡æ–°èµ‹å€¼æ–°çš„Fatherå‡½æ•°ï¼Œé‡æ–°è®¡æ•°
```

ä¸€ä¸ªåŒ…åŒ…è‚¯å®šæœ‰å¥½å¤„è·Ÿåå¤„å•¦ï¼Œæ¯•ç«ŸåŒ…æ— å®ŒåŒ…@_@ã€‚

ä½¿ç”¨é—­åŒ…å¯ä»¥å¸®æˆ‘ä»¬æŠŠå˜é‡ç¼“å­˜èµ·æ¥ä¸è¢«GCå›žæ”¶ï¼Œå½¢æˆçš„ç§æœ‰æ–¹æ³•æœ‰åˆ©äºŽé™åˆ¶ä»£ç çš„è®¿é—®ï¼Œé¿å…éžæ ¸å¿ƒçš„ä»£ç å¹²æ‰°åˆ°å…¬å…±æŽ¥å£ï¼Œåˆ©ç”¨é—­åŒ…çš„ç‰¹æ€§å®žçŽ°æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰ã€‚

æ¥ä¸ªé—­åŒ…äº§ç”Ÿé—®é¢˜ðŸŒ°ï¼š

```
const home = () => {
  var family = [];
  for (var i = 0; i < 3; i++) {
    family.push(() => {
      console.log(`family ${i} å·`);
    })
  }
  return family;
}
const h = home();
console.log(h[0]()); // 3
console.log(h[1]()); // 3
console.log(h[2]()); //3
```

é¢„æœŸç»“æžœæ˜¯è¾“å‡ºï¼š0å·ï¼Œ1å·ï¼Œ2å·ï¼Œæœ€ç»ˆæŽ§åˆ¶å°æ‰“å°å‡ºçš„ç»“æžœéƒ½æ˜¯3å·ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥debuggerçœ‹çœ‹æ¯ä¸€æ­¥çš„ i å€¼å˜åŒ–ã€‚

![image-20210325094816419](../images/b1.png)

åˆ©ç”¨é—­åŒ…å®žçŽ°æŸ¯é‡ŒåŒ–ï¼Œå®žçŽ°ä¸€ä¸ªaddæ–¹æ³•ï¼Œæ»¡è¶³ï¼šaddFunc(1)(2)(3)ï¼ŒaddFunc(1)(2,4)(6)

```
/*
*  arg :ç¬¬ä¸€æ¬¡è°ƒç”¨çš„å‚æ•°
* */
const addFunc = function(...arg) {
   // ä¸ä½¿ç”¨å‰©ä½™å‚æ•°è¡¨ç¤ºæ³•ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•
   // const _newArr = Array.from(arguments)
   // æ·»åŠ å‰©ä½™çš„å‚æ•°è¿›æ¥ï¼Œä¸èƒ½ä½¿ç”¨ï¼ˆï¼‰=>{},å®ƒæ²¡æœ‰è‡ªå·±çš„arguments
   const counter = function() {
    // _newArr.push(...arguments)
    arg.push(...arguments);
    return counter;
   };
  // é‡å†™toStringæ–¹æ³•ï¼Œconsole.log()ä¼šè°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„toStringæ–¹æ³•
  counter.toString = ()=>{
    // _newAr.reduce((v1, v2)=>v1 + v2);
    return arg.reduce((v1, v2)=>v1 + v2);
  };
    return counter;
};
```

è¿™é‡Œä¸€ç¯‡ä¸ªäººå¾ˆå–œæ¬¢çš„æ–‡ç« ï¼š
ä½œè€…ï¼šçŽ‹ä»•å†›
é“¾æŽ¥ï¼šhttps://juejin.cn/post/6844903474212143117